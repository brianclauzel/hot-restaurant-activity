<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">

	<title>Reservation Page</title>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	
	<script src="https://code.jquery.com/jquery-3.1.1.min.js" crossorigin="anonymous"></script>

</head>

<body>

<div class="container">
	<div class="row text-center">
		<div class="jumbotron">
		  <h1><span class="glyphicon glyphicon-fire" aria-hidden="true"></span> Hot Restaurant!</h1>
		  <hr>
		  <h2>Make your reservation</h2>
		  <br>
		  <p>
		  	<a class="btn btn-primary btn-lg" id="view-tables" href="./table.html" role="button"><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span> View Tables</a>
		  	<a class="btn btn-default btn-lg" id="home-page" href="./home.html" role="button"><span class="glyphicon glyphicon-home" aria-hidden="true"></span></a>
		  </p>

		</div> 
	</div> 
	<div class="panel panel-default">
  		<div class="panel-heading">
    		<h3 class="panel-title">Table Reservation</h3>
  		</div>
  			<div class="panel-body">
	    		<div class="form-group">
				  <label for="user">Name</label>
				  <input type="text" class="form-control" id="user-name">
				</div>
				<div class="form-group">
				  <label for="phonenumber">Phone Number</label>
				  <input type="phone" class="form-control" id="phone">
				</div>
				<div class="form-group">
				  <label for="email">Email</label>
				  <input type="text" class="form-control" id="email">
				</div>
				<div class="form-group">
				  <label for="id">Unique ID</label>
				  <input type="text" class="form-control" id="user-id">
				</div>

				<button type="submit" class="btn btn-primary" id="add-btn">Submit</button>

  			</div>
	</div>
	<p>Control Panel</p>
	<p><a href="">Clear Table</a> | <a href="">API Table Link</a> | <a href="">API Wait List</a></p> 

</div> 

<script>


	$(".submit").on("click", function(){


		var newReservation = {
			customerName: $('#reserve_name').val().trim(),
			phoneNumber: $('#reserve_phone').val().trim(),
			customerEmail: $('#reserve_email').val().trim(),
			customerID: $('#reserve_uniqueID').val().trim()
		};

		console.log(newReservation);

	
		var currentURL = window.location.origin;

	    $.post(currentURL + "/api/tables", newReservation,
	    function(data){

	    
	    	if(data == true){
	    		alert("Yay! You are officially booked!")
	    	}

	    
	    	if(data == false){
	    		alert("Sorry you are on the wait list")
	    	}

	    
    		$('#reserve_name').val("");
			$('#reserve_phone').val("");
			$('#reserve_email').val("");
			$('#reserve_uniqueID').val("");

	    });

return false;

});

</script>
    
</body>
